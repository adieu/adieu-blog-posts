:title: 给MacBook Air重装系统
:slug: 给MacBook-Air重装系统
:url: http://www.adieu.me/blog/2010/07/给MacBook-Air重装系统/
:published_on: 2010-07-29 09:25:19

前两天我的MacBook Air的硬盘开始报错，看来是大限将至。只能考虑换一块新硬盘。把机器拿到Apple Store问了一下，答复过保的MacBook Air换一块硬盘要2200。为了降低成本，决定自己动手换硬盘。

定的硬盘还没送到，但是准备工作要先做起来。怎么给新硬盘装系统，是一个首先要解决的问题。

MacBook Air由于没有光驱，重装系统一般有两种办法，第一是外置的光驱，第二是将安装盘放到其他主机上，然后远程安装。不过很不幸的是我一没有外置光驱，二没有Snow Leopard安装光盘。所以还得从MacBook Air唯一的USB口想办法。

之前用U盘装过Windows 7，所以这次也准备如法炮制。Snow Leopard的dmg镜象我是有的。接着从京东上定了个8G的U盘。U盘送到以后开始想办法把镜象装载到U盘中。

由于镜象文件在我的ThinkPad上，首先考虑的是直接在Windows里面操作。在网上搜索一番，找到 `TransMac`_ 这款软件。结果在装载过程中提示我的U盘空间不够大，装载到最后报错。虽然查看U盘能够看到文件，但是用有错的U盘装新系统实在是不放心，只能另做打算。

在OSX下将dmg镜象装载到U盘中是很简单的，不过现在我的硬盘有故障，让问题变得复杂了一些。由于MacBook Air只有一个USB接口，把镜象文件放在移动硬盘里，然后把移动硬盘和U盘都接到MacBook Air上做恢复的版本就不可行了。同时硬盘有故障，更加不敢把镜象文件先拷贝到MacBook Air的硬盘里，再从硬盘里装载到U盘中。说不定现在还能开机，这样搞一下，开机都不行了。思考了一下之后，最后决定选择把U盘接到MacBook Air上，再从网络加载镜象文件，装载到U盘里的方案。

实际操作起来还是很简单的：

1. 在ThinkPad上将存放Snow Leopard镜象的目录共享出来
2. 在MacBook Air上，通过SMB共享加载ThinkPad的共享目录
3. 插入U盘，打开磁盘工具，将U盘分区设置为GUID的格式，用HFS+格式格式化空间
4. 使用磁盘工具的恢复镜象功能，镜象文件选择ThinkPad共享分区上的Snow Leopard镜象，分区选择上一步中格式化好的分区，点击恢复
5. 然后就是漫长的等待。由于网速的限制，恢复的过程异常缓慢。经过接近2个小时的恢复后，总算恢复完成
6. 重新开机，在开机的过程中，按住Option键，出现选择引导盘的界面，证明Snow Leopard安装U盘制作完成。剩下的就是等待新硬盘到了之后换上新硬盘再重装系统了

其实，如果硬盘是工作良好的状态的话，要换硬盘应该非常简单。Snow Leopard自带的磁盘工具就提供了硬盘克隆功能。只需要将新硬盘用USB硬盘盒接到机器上，将现有硬盘克隆一份到新硬盘，再更换硬盘就可以了。

.. _TransMac: http://www.asy.com/scrtm.htm